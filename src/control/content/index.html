<!DOCTYPE html>
<html ng-app="webviewPlugin">
<head lang="en">
  <meta charset="UTF-8">
  <title>content</title>
  <!-- CSS -->
  <link href="../../../../styles/helper.css" rel="stylesheet">
  <link href="../../../../styles/siteIcons.css" rel="stylesheet">
  <link href="../../../../styles/control/bf-base.css" rel="stylesheet">

  <!-- JS -->
  <script src="../../../../scripts/buildfire.js"></script>
  <script src="../../../../scripts/angular/angular.min.js"></script>
  <script src="app.js"></script>
  <style>
    .radio-block {
      display: block !important;
      padding-bottom: 5px;
    }
    .note {
      padding: 12px 20px;
      margin-top: 15px;
      margin-bottom: 15px;
      background: #F5F5F5;
    }
    .note .bold {
      font-weight: 600;
    }
    .image-container img {
      margin: 10px;
      border-radius: 8px;
      box-shadow: 0 0 8px 2px rgba(0,0,0,0.10);
    }
  </style>
</head>
<body ng-controller="webviewPluginCtrl" id="webviewApp" ng-cloak
      ng-show="datastoreInitialized">
<div ng-form="frmMain">

  <div class="item clearfix row margin-bottom-fifteen">
    <div class="labels col-md-3 padding-right-zero pull-left">
      <span>URL</span>
    </div>
    <div class="main col-md-9 pull-right clearfix">
      <div class="col-md-9 pull-left padding-left-zero">
        <input id="url" name="url" type="text" class="form-control"
               ng-model="data.content.url">
      </div>
      <div class="col-md-3 pull-right padding-zero">
        <button class="btn btn-success stretch" ng-click="validateUrl()"
                ng-disabled="!data.content.url">
          Validate
        </button>
      </div>
    </div>
  </div>

  <div class="item clearfix row"
       ng-if="data.content.url && !isUrlValid(data.content.url)">
    <div class="main pull-right col-md-9">
      <p style="color: #ff7164">Seems like
        your url is not valid ! But if you
        want,
        you can
        still
        add it
        to your plugin.</p>
    </div>
  </div>

  <div class="item clearfix row">
    <div class="main pull-right col-md-9">
      <div class="alert alert-success alert-sm text-center" ng-if="urlValid">URL
        successfully validated
      </div>
      <div class="alert alert-danger alert-sm text-center" ng-if="urlInValid">
        Invalid Url
      </div>
    </div>
  </div>
  <hr class="none">
  <div class="item clearfix row">
    <div class="image-container col-md-3 pull-left">
      <img 
        ng-if="data.content.view === viewType.NATIVE_IN_APP"
        ng-src="../../resources/native-webview.jpg"
        alt="Native Webview Preview">
      <img 
        ng-if="data.content.view === viewType.IN_APP_POPUP"
        ng-src="../../resources/popup-window.jpg"
        alt="Popup Window Preview">
      <img 
        ng-if="data.content.view === viewType.EXTERNAL_BROWSER"
        ng-src="../../resources/external-browser.jpg"
        alt="External Browser Preview">
  </div>
    <div class="col-md-9 pull-right">
      <div class="radio radio-primary radio-block">
        <input id="popup" type="radio" ng-model="data.content.view"
               ng-value="viewType.IN_APP_POPUP"
               name="viewType" ng-change="changeViewType()">
        <label for="popup">In Popup Window</label>
      </div>
      <div class="radio radio-primary radio-block">
        <input id="inapp" type="radio" ng-model="data.content.view"
               ng-value="viewType.NATIVE_IN_APP"
               name="viewType" ng-change="changeViewType()">
        <label for="inapp">In Feature</label>
      </div>
      <div ng-if="data.content.view === viewType.NATIVE_IN_APP" class="flex margin-left-twenty">
        <div class="radio radio-primary radio-block">
          <input id="insideIframe" type="radio" ng-model="data.content.viewSupType"
                 ng-value="viewSupType.IFRAME"
                 name="viewSupType" ng-change="changeViewType()">
          <label for="insideIframe">iFrame</label>
        </div>
        <div class="radio radio-primary radio-block margin-top-ten margin-left-twenty">
          <input id="nativeWebview" type="radio" ng-model="data.content.viewSupType"
                 ng-value="viewSupType.NATIVE_WEBVIEW"
                 name="viewSupType" ng-change="changeViewType()">
          <label for="nativeWebview">Native Webview (Beta)</label>
        </div>
      </div>
      <div class="note" ng-if="data.content.view === viewType.NATIVE_IN_APP && data.content.viewSupType === viewSupType.IFRAME">
        <span class="bold">Some websites may not work correctly when opened inside the app, especially in the built-in browser view.</span> This is often due to Apple’s security rules or website settings from companies like Google and Amazon that block their pages from being shown in this way. If your webpage doesn’t load or work as expected, we recommend trying one of the other viewing options available.
      </div>
      <div class="note" ng-if="data.content.view === viewType.NATIVE_IN_APP && data.content.viewSupType === viewSupType.NATIVE_WEBVIEW">
        Native Webview is a new feature that works around iFrame issues. If the iFrame option isn’t working, try using Native Webview instead.
      </div>
      <div class="radio radio-primary radio-block">
        <input id="external" type="radio" ng-model="data.content.view"
               ng-value="viewType.EXTERNAL_BROWSER"
               name="viewType" ng-change="changeViewType()">
        <label for="external">Device's default external browser</label>
      </div>
      <div class="note">
        <div>For the best experience, link to mobile-optimized and secure (HTTPS) content. If your webpage includes payment processing, it must open outside of the app—otherwise, Apple may reject your app during review. Also, be aware that some websites only display their mobile layout on actual mobile devices.</div>
        <div class="bold margin-top-twenty">Note: If you’re accepting payments, use a Deep Link to redirect users back into your app after the transaction is complete.</div>
      </div>
      
    </div>
  </div>
</div>
</body>
</html>
